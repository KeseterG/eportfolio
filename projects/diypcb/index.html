<!doctype html><html data-theme=light lang=en><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><title>
Page | PCB Assembly - Building a BLDC Driver
</title><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,800;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,800;1,800&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><link href=https://keseterg.github.io/eportfolio/common/main.css rel=stylesheet><link href=https://keseterg.github.io/eportfolio/common/nord.css rel=stylesheet><script src=https://keseterg.github.io/eportfolio/js/theme-switcher.js></script><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y rel=stylesheet><script crossorigin defer integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js></script><script crossorigin defer integrity=sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js></script><script crossorigin defer integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe onload=renderMathInElement(document.body); src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js></script><script src=https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.min.js></script><link integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css rel=stylesheet><body data-theme=light><div class="hero background-grey"><nav class=container data-theme=dark><ul><li><a class=emphasis href=https://keseterg.github.io/eportfolio/><strong>Zimeng Chai's Eportfolio</strong></a></ul><ul></ul><ul class=tabs><li><a href=https://keseterg.github.io/eportfolio/resume/>Resume</a><li><a href=https://keseterg.github.io/eportfolio/experiences/>Experiences</a><li><a href=https://keseterg.github.io/eportfolio/projects/>Projects</a><li><a href=https://keseterg.github.io/eportfolio/about/>About</a></ul></nav></div><main class=container><div><div class=grid><hgroup><h1 class=emphasis>PCB Assembly - Building a BLDC Driver</h1><p><small><i>First Try on Making a PCB</i></small> <br> <small><i>October 2023 - November 2023</i></small> <br> <small><i>ECE1100 Discovery Project</i></small> <br> <br> <span class="tag info">Project</span>   <span class="tag highlight">EDA</span>   <span class="tag highlight">Soldering</span>   <span class="tag highlight">Electronics</span>  </hgroup><div class=center><div><img height=auto src=https://keseterg.github.io/eportfolio/processed_images/simplefoc-square.79ef9a72267211db.jpg></div></div><p>In this discovery project, I want to go through the design, manufacturing, and assembly of a PCB board all by myself. That's why I decided to build a Brushless Motor Driver using the provided design files from SimpleFOC online. I ordered the compoenents, carried out solder-pasting and retroflowing soldering, and finally finished some basic teseting on the board.</div><hr class=solid><br><div class="container grid"><section><h2 id=initiatives>Initiatives</h2><p>I want build a simple Brushless Direct Current Motor (BLDC) driver. One of the reason is that many of robotics application requires universal BLDC drivers as the base of any other control algorithms. Making such a board will help me to gain some basic understanding of the theories lying behind the controller, paving the path for my future robotics projects.<p>At the same time, I do not have any prior experience making PCB boards. I only soldered some of the parts onto the PCB, but I've never gone through the whole process - design, manufacturing, assembly, verification, and finally application. This project gives me one of the chances to finish this workflow, preparing me for my future ECE projects & DIYs.<h2 id=practice-soldering>Practice Soldering</h2><p>Before I get started, I spent some time practicing my soldering skills. As the components on the BLDC driver board is pretty expensive, I want to make sure that I do things right.<p>I practiced doing 50 resistors & 50 LEDs by hand and with the retroflow machine. The result is a success: the resistors and LEDs have connectivity and they are working fine under 5v of voltage input.<h2 id=research-component-ordering>Research & Component Ordering</h2><p>I find various solutions for BLDC drivers online. Usually, for driving a BLDC motor, the current angle of the motor matters - as it will determine which stator should be powered to push the motor. I want to choose an integrated solution that is able to measure the angle and drive the motor at the same time.<p>My final selection is <a href=https://github.com/katbinaris/nanofoc_devkit>NanoFOC</a>. It is an extremely compact BLDC driver with FOC equipped. I spent a few week learning and reading the schematic diagrams & ordering the components.<h2 id=stencil-making-retroflow-soldering>Stencil Making & Retroflow Soldering</h2><p>After the components arrived, I started to make stencils to make solder pastes get onto the PCB board. I utilized the Protolaser PCB machine at the HIVE for making stencils. At the same time, I learned about how to make a prototype double-sided PCB using that machine.<div class="flex-55 center vcentered"><div class=flex-55-1><img alt=Protolaser src=https://keseterg.github.io/eportfolio/projects/diypcb/images/protolaser.jpg></div><div class=flex-55-2><img alt=Stencil. src=https://keseterg.github.io/eportfolio/projects/diypcb/images/stencil.jpg></div></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Left: Protolaser Machines; Right: Custom In-house Stencil.</i></small></div><p>After that, I spread solder paste to the pads using the stencil I made and spent a few hours putting components onto the soldering pads. Then, the PCB is put into the retroflow machine for soldering.<p>Something worth noting is that this PCB is double-sided, which increases the difficulty of retroflow soldering, as the components on the back might fall off. To solve that problem, I used heat-resistant tape to fix the MAQ430 chip in place when I'm soldering the upper side of the PCB board.<p><div><img alt="Retroflow Oven." class=lazy src=https://keseterg.github.io/eportfolio/projects/diypcb/images/retroflow.jpg></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Finished PCB in the Retroflow Oven.</i></small></div><div class="flex-55 center vcentered"><div class=flex-55-1><img alt="PCB Design" src=https://keseterg.github.io/eportfolio/projects/diypcb/images/kicad.png></div><div class=flex-55-2><img alt=Finished src=https://keseterg.github.io/eportfolio/projects/diypcb/images/simplefoc-square.jpg></div></div><h2 id=board-testing>Board Testing</h2><p>The board can boot up and load the program. I tried some simple hello world programs via Serial port, the board can be flashed and respond to what I've entered in the serial window.<p><div><img alt="Connected Board." class=lazy src=https://keseterg.github.io/eportfolio/projects/diypcb/images/board.jpg></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Connected Drive Board.</i></small></div><p><div><img alt="Connected Board via UART." class=lazy src=https://keseterg.github.io/eportfolio/projects/diypcb/images/uart.jpg></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Connected Drive Board via UART.</i></small></div><p>Unfortunately, the board's USB port snaps after a few connections. During that catastrophic failure, the soldering pad on the PCB also gets off, which means that I'm not able to connect to the board again. At the same time, the UART connection method to the board is not able to work.<h2 id=reflection-potential-improvements>Reflection & Potential Improvements</h2><p>The project is not so successful in terms of the application. I'm not able to carry out comprehensive testing on the motor due to the breakage of the board.<p>However, via this project, I still gained precious experience in building PCBs. I go through the whole process successfully, finally making a usable PCB. I also learned about the potential points of improvement during the process of making PCB board, and this might aid me in future ECE and diy projects.</section><aside><div class=sticky style=padding:.1rem><ul><li><a href=https://keseterg.github.io/eportfolio/projects/diypcb/#initiatives>Initiatives</a><li><a href=https://keseterg.github.io/eportfolio/projects/diypcb/#practice-soldering>Practice Soldering</a><li><a href=https://keseterg.github.io/eportfolio/projects/diypcb/#research-component-ordering>Research & Component Ordering</a><li><a href=https://keseterg.github.io/eportfolio/projects/diypcb/#stencil-making-retroflow-soldering>Stencil Making & Retroflow Soldering</a><li><a href=https://keseterg.github.io/eportfolio/projects/diypcb/#board-testing>Board Testing</a><li><a href=https://keseterg.github.io/eportfolio/projects/diypcb/#reflection-potential-improvements>Reflection & Potential Improvements</a></ul></div></aside></div><br></div></main><footer class="hero secondary background-grey" data-theme=dark><div class=container style=font-size:large><div class=flex-55><div class=flex-55-1><a class=clear href=mailto::zimeng.chai@gatech.edu> <span class="icon social"> <i class="fa fa-envelope fa-lg"></i> </span> </a><a class=clear href=https://github.com/KeseterG> <span class="icon social"> <i class="fab fa-github fa-lg"></i> </span> </a><a class=clear href=https://www.linkedin.com/in/zimeng-chai/> <span class="icon social"> <i class="fab fa-linkedin fa-lg"></i> </span> </a></div><div class=flex-55-2><i>Zimeng Chai's E-Portfolio</i><br> Built with <a href=https://www.getzola.org/>Zola</a> and <a href=https://picocss.com/>Pico.css</a>.<br> Zimeng Chai, 2022-2023.</div></div></div></footer>