<!doctype html><html data-theme=light lang=en><head><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><title>
Page | Acetate
</title><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,800;1,800&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,800;1,800&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><link href=https://keseterg.github.io/eportfolio/common/main.css rel=stylesheet><link href=https://keseterg.github.io/eportfolio/common/nord.css rel=stylesheet><script src=https://keseterg.github.io/eportfolio/js/theme-switcher.js></script><link crossorigin href=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y rel=stylesheet><script crossorigin defer integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js></script><script crossorigin defer integrity=sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js></script><script crossorigin defer integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe onload=renderMathInElement(document.body); src=https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js></script><script src=https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.min.js></script><link integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css rel=stylesheet><body data-theme=light><div class="hero background-grey"><nav class=container data-theme=dark><ul><li><a class=emphasis href=https://keseterg.github.io/eportfolio/><strong>Zimeng Chai's Eportfolio</strong></a></ul><ul></ul><ul class=tabs><li><a href=https://keseterg.github.io/eportfolio/resume/>Resume</a><li><a href=https://keseterg.github.io/eportfolio/experiences/>Experiences</a><li><a href=https://keseterg.github.io/eportfolio/projects/>Projects</a><li><a href=https://keseterg.github.io/eportfolio/about/>About</a></ul></nav></div><main class=container><div><div class=grid><hgroup><h1 class=emphasis>Acetate</h1><p><small><i>Turreted, Agile and Fast Solution for Rapid React.</i></small> <br> <small><i>Team Lead & Lead Programmer</i></small> <br> <small><i>January 2022 - December 2022</i></small> <br> <small><i>IronPulse Robotics - Shanghai Pinghe School</i></small> <br> <br> <span class="tag info">Project</span>   <span class="tag info">Robot</span>   <span class="tag highlight">Java</span>   <span class="tag highlight">Control Theory</span>  </hgroup><div class=center><div><img height=auto src=https://keseterg.github.io/eportfolio/processed_images/acetate-square.cb9fe856ca503d63.jpg></div></div><p>Acetate is the robot I programmed and assembled for FIRST Robotics Competition 2022. It utilizes control theory, localization techniques, and design in software structuring to reach a high level of automation. The development process of Acetate is done over the year 2022 under the COVID pandemic.</div><hr class=solid><br><div class="container grid"><section><p>Acetate is the second robot I programmed for <a href="https://www.youtube.com/watch?v=LgniEjI9cCM">FIRST Robotics Competition (FRC) Season 2022 - Rapid React</a>. It is also the first robot I independently programmed as the team's programming lead.<p>Acetate is designed to be a fast, accurate, mid-to-long-range scorer. Cargo is the target gamepiece in Rapid React, which is similar to an inflated tennis at the size of a basketball. To score cargo into the target - a 2.5 meter high, 1.2 meter wide hub, acetate is equipped with a custom metric swerve drivetrain at a free speed of 4.0 meters per second, along with a turreted shooter with <span><script type=math/tex>\pm 150 ^{\circ}</script></span> of rotation range and <span><script type=math/tex>30^{\circ}</script></span> of backboard adjustment range. Such design allows acetate to aim and score at more than 80% of the positions on the field.<p>For the end game of Rapid React, Acetate is required to climb a "monkey bar" consisting of 4 sub-bars, the higher bars will lead to great endgame point gains. For accomplishing this task, Acetate is also equipped with a single staged elevator along with a pneumatically actuated hooker for a switch-and-climb routine to the highest bar.<p>Acetate marks a great leap in my Robotics ability. Starting from this robot, I became fluent in Java Programming and gained rich experience in refactoring, structuring, and debugging. At the same time, Acetate allows me to apply control theories and algorithms on a real robot for the first time to improve its performance.<p><div><img alt="Acetate in Action" class=lazy src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/acetate-in-action.jpg></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Acetate in Action.</i></small></div><h2 id=innovations>Innovations</h2><h3 id=state-machine>State Machine</h3><p>State Machine is a widely used tool for building robotics intelligence. State machine defines a system into a definite number of states, robots will carry out desired actions under each state. The transition of states will be triggered by actions or events, also triggering potential changes along the way.<p>Acetate's superstructure, along with its ball path & climbing mechanism, is designed using state machines. This allows Acetate to have different modes to handle various situations systematically.<div class="flex-55 center vcentered"><div class=flex-55-1><img alt="Superstructure State" src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/superstructure-state.jpg></div><div class=flex-55-2><img alt="BallPath State" src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/ballpath-state.jpg></div></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>State Diagram for Acetate's Superstructure and Ballpath</i></small></div><p>Most of the automation is based on the use of state machines. One of the examples is the implementation of automatic wrong-cargo rejection. Via the coordination among the turret, shooter, and ballpath, wrong cargo can be ejected to any point on the field. Another example is the automatic climbing sequence, allowing Acetate to reach the highest rung in 12 seconds.<p><div class=center><video controls style=width:90%;height:100%;object-fit:fill><source src=https://keseterg.github.io/eportfolio/projects/robots/acetate/videos/auto-rejection.mp4 type=video/mp4></video></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Auto-Rejection Example.</i></small></div><h3 id=simulation-modeling>Simulation & Modeling</h3><p>Before the start of the design of Acetate MK2, I finished an essay on calculating the optimal trajectory of the Cargo.<p>During the launch of the Cargo, there are several key parameters: the angle of the turret, the angle of the backboard, and the rotational velocity of the flywheel. These three components build up a vector in space, determining the initial launching force for the Cargo.<div class="flex-55 center vcentered"><div class=flex-55-1><img alt="4D Graph" src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/4d-graph.png></div><div class=flex-55-2><img alt=Trajectories src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/possible_trajectories.png></div></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Left: All Potential State Combination; Right: Possible Trajectories at Different Distances.</i></small></div><p>Using the physical model and numerical method for optimization, the optimal combination of launching state that leads to minimum cost is generated. This gives a good reference point for our mechanism design & iteration.<h3 id=feedforward-tangential-speed-compensation>Feedforward & Tangential Speed Compensation</h3><p>Characterization is done on the turret and drivetrain to determine their velocity and acceleration feedforward constants. Then, by using a linear model and feeding the result using voltage, the movement of these two mechanisms takes into more control inputs and is more responsive to the change of target. This, in turn, results in heightened accuracy, efficiency, and overall performance of the turret and drivetrain within the larger system.</p><span class=center><script type="math/tex;mode=display">V = K_s + K_v v + K_a a</script></span><p>At the same time, the robot's velocity with respect to the target is compensated.<h3 id=localization>Localization</h3><p>The localization of Acetate is based on the Extended Kalman Filter (EKF). The localizer receives an update from the odometry of the swerve drivetrain for high-frequency local updates and adjusts the measurement using gyro and camera feedback with a changing covariance. The usage of EKF gives Acetate the ability to fuse multiple measurements effectively, allowing it to find its position on the whole field at any time.<p>To provide more accurate observation, an anti-distortion is used on the camera. Every measured point of the vision target will first be through this step before it is calculated and fed into the EKF. The anti-distortion used a quadratic to model the distortion, and the constants of distortion were measured and fitted using a chessboard.<p><div class="flex-55 center vcentered"><div class=flex-55-1><img alt="Localization Interface" src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/fusion-interface.png></div><div class=flex-55-2><img alt="Anti Distortion" src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/anti-dis.png></div></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Left: EKF Localization Interface; Right: Anti-Distortation Model</i></small></div><p>With the aid of localization, Acetate can accurately find its velocity with respect to the vision target. Combined with feedforward, the allows Acetate to have the ability to "move-and-shoot".<p><div class=center><video controls style=width:90%;height:100%;object-fit:fill><source src=https://keseterg.github.io/eportfolio/projects/robots/acetate/videos/move-and-shoot.mp4 type=video/mp4></video></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Move and Shoot Demonstration.</i></small></div><h3 id=codeless-autonomous>"Codeless" Autonomous</h3><p>Finally, combining those abilities, Acetate is given the power to reach a high level of automation during the autonomous phase. Most of the functions are highly automated, thus the coding for the autonomous stage becomes too simple. Using the <a href=https://github.com/mjansen4857/pathplanner>PathPlanner</a> tool, we can set up autonomous modes without any actual coding.<p>In total, Acetate is equipped with 10 autonomous modes, ranging from simple shoot-the-preload to complex 7-ball autonomous. The program will automatically scan all the path configuration files, read the trajectories and corresponding timepoints, finally load them, and get them ready for selection on the dashboard on the operator side.<p>Below is the showcase of two advanced autonomous routines: steal autonomous (go to the opponent's field for their cargo) and 7 ball autonomous (6 self-cargo, 1 opponent's cargo).<p><div class=center><video controls style=width:90%;height:100%;object-fit:fill><source src=https://keseterg.github.io/eportfolio/projects/robots/acetate/videos/steal.mp4 type=video/mp4></video></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Steal Autonomous. Time: 7.99''</i></small></div><div class=center><video controls style=width:90%;height:100%;object-fit:fill><source src=https://keseterg.github.io/eportfolio/projects/robots/acetate/videos/6+1.mp4 type=video/mp4></video></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>6+1 Autonomous. Time: 14.74''</i></small></div><h2 id=development-story>Development Story</h2><p>Acetate's development takes a whole year. The main reason for this, of course, is the COVID-19 pandemic. As our team is based in Shanghai, we had undergone a lockdown from mid-March to late July, and the effect of the pandemic continued even after the lockdown. Due to this, Acetate is not able to attend any competition - because there isn't one available during that special period.<p>One of the other constraints we have under such a situation is our field. Our shop's height is not enough to shoot the Cargo, so we have to find other places for testing and practice. This made the process of building Acetate even harder.<p>Even with those constrictions, our team finished 10+ small iterations on Acetate and 2 major iterations (MK1 and MK2) on Acetate. We discovered the problems during designing, assembling, and finally testing & debugging.<h3 id=acetate-mk1-turret-tests-basic-vision-aim-software-framework>Acetate MK1: Turret Tests, Basic Vision Aim, Software Framework</h3><p>During the first design stage, our team discussed and settled down the design goals we have for FRC Season 2022.<p>We described the competition with these words: fast-paced, violent, strong-defensive, and agile (this makes me consider Rapid React to be one of the best names for FRC games). Due to those requirements, a turret becomes a must, as it can help our robot to aim at the target even under heavy defense. To leave space for the turret, the climbing mechanism needs to be compact. Finally, the whole robot combined should have a really low center of gravity, to counteract tipping caused by all the potential collisions.<p>This led to the first version of our robot design. Our robot uses the old 2021 drivetrain from <a href=https://keseterg.github.io/eportfolio/projects/robots/zorro/>Zorro</a>, but with an increased width of the traction thread from 1 inch to 1.5 inch. This brings higher traction and thus more stability and counter-defense abilities.<p>For the robot's Superstructure, we have a simple pneumatically actuated intake, equipped with mecanum wheels for automatic cargo centering. The end of the ballpath is equipped with a turret without a backboard, so it will be simple enough for our team to make.<p>Acetate MK1 is assembled during the winter vacation and the first month of the 2022 spring semester.<h3 id=acetate-mk2-increase-turret-angle-complex-control-autonomous>Acetate MK2: Increase Turret Angle, Complex Control, Autonomous</h3><p>During the build season, we realized some of the drawbacks of our design. The backboard is far more important than we originally considered, as it can significantly increase the locations where the robot can shoot the cargo. At the same time, we find the simple mecanum intake is prone to breaking under high-speed collisions. This leads to the various improvements made on Acetate MK2, whose features are shown in the previous passage.<h3 id=the-end-of-frc-2022>The End of FRC 2022</h3><p>Unfortunately, till the very end of the year 2022, the opportunity for competition does not come. Acetate is not able to compete in any of the formal competitions, but only in one online regional competition.<p>During the online regional, Acetate and IronPulse Robotics won the Autonomous Award for FRC Hangzhou Regional 2022 (online).<p>This is surely a bitter end, as my whole year of work ends in nearly vain. However, Acetate still means a lot to me, as it helps me to grow my understanding of Robotics. This prepares me for competition season 2023 and my future career in Robotics and Autonomous Systems.<p><div><img alt="Acetate on Run" class=lazy src=https://keseterg.github.io/eportfolio/projects/robots/acetate/images/acetate-on-run.jpg></div><div style=padding-top:10px;padding-bottom:10px;text-align:center><small><i>Acetate MK2, Shot on One of the Shop Nights.</i></small></div></section><aside><div class=sticky style=padding:.1rem><ul><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#innovations>Innovations</a> <ul><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#state-machine>State Machine</a><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#simulation-modeling>Simulation & Modeling</a><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#feedforward-tangential-speed-compensation>Feedforward & Tangential Speed Compensation</a><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#localization>Localization</a><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#codeless-autonomous>"Codeless" Autonomous</a></ul><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#development-story>Development Story</a> <ul><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#acetate-mk1-turret-tests-basic-vision-aim-software-framework>Acetate MK1: Turret Tests, Basic Vision Aim, Software Framework</a><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#acetate-mk2-increase-turret-angle-complex-control-autonomous>Acetate MK2: Increase Turret Angle, Complex Control, Autonomous</a><li><a href=https://keseterg.github.io/eportfolio/projects/robots/acetate/#the-end-of-frc-2022>The End of FRC 2022</a></ul></ul></div></aside></div><hr class=solid><br><div class=container><h4 class=emphasis>Backlinks</h4><a href=https://keseterg.github.io/eportfolio/experiences/first-robotics-competition/>IronPulse Robotics</a><br><a href=https://keseterg.github.io/eportfolio/projects/robots/hydrogen/>Hydrogen</a><br><a href=https://keseterg.github.io/eportfolio/projects/robots/kyanite/>Kyanite</a><br></div><br></div></main><footer class="hero secondary background-grey" data-theme=dark><div class=container style=font-size:large><div class=flex-55><div class=flex-55-1><a class=clear href=mailto::zimeng.chai@gatech.edu> <span class="icon social"> <i class="fa fa-envelope fa-lg"></i> </span> </a><a class=clear href=https://github.com/KeseterG> <span class="icon social"> <i class="fab fa-github fa-lg"></i> </span> </a><a class=clear href=https://www.linkedin.com/in/zimeng-chai/> <span class="icon social"> <i class="fab fa-linkedin fa-lg"></i> </span> </a></div><div class=flex-55-2><i>Zimeng Chai's E-Portfolio</i><br> Built with <a href=https://www.getzola.org/>Zola</a> and <a href=https://picocss.com/>Pico.css</a>.<br> Zimeng Chai, 2022-2023.</div></div></div></footer>